# language target
language: cpp
compiler: gcc

# main build matrix
matrix:
  include:
    - name: "Bionic Ubuntu Linux"
      os: linux
      dist: bionic
      sudo: required
      env: TARGETOS=bionic-linux

# before install, install QT5.12.3 from ppa
before_install:
  - sudo add-apt-repository -y ppa:beineri/opt-qt-5.12.3-bionic
  - sudo apt update
  - sudo apt install qt5-default qt5-qmake build-essential g++ make
  - sudo apt-get install -y qt512*
  - qtchooser -print-env
  - qmake -v

# install dependencies (for now ubuntu only)
install:
  - sudo apt install ffmpeg sox mplayer libnotify-dev

# build & test scripts
script:
  - make clean
  - qmake mystiq.pro
  - make

# notifications (only via telegram)
notifications:
  email: true
  #webhooks: https://fathomless-fjord-24024.herokuapp.com/notify

# no deploy section for now.
